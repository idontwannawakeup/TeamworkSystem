@page "/team"
@inject NavigationManager NavigationManager

<MudGrid Spacing="3" Class="mt-8">

    <MudItem xs="12" md="3" Class="d-flex flex-column gap-4">

        <MudPaper Elevation="4" Class="pa-4">
            <MudText Typo="@Typo.h6"
                     Class="py-1">
                TeamName
            </MudText>
            <MudText Typo="@Typo.subtitle1"
                     Class="py-1">
                Status
            </MudText>
            <MudButton Variant="@Variant.Outlined"
                       Color="@Color.Tertiary"
                       EndIcon="@Icons.Material.Filled.Add"
                       IconColor="@Color.Inherit"
                       Class="my-1">
                Add member
            </MudButton>
        </MudPaper>

        <MudPaper Elevation="4" Class="pa-4">
            <MudText Typo="@Typo.h6"
                     Class="py-1">
                Members
            </MudText>
            <MudText Typo="@Typo.subtitle1"
                     Style="@colorGrey"
                     Class="pb-1">
                Total count: @membersCount
            </MudText>
            <MudDivider Class="my-2" />
            <MudList Clickable="@true">
                @foreach (var number in Enumerable.Range(0, membersCount))
                {
                    <MudListItem>
                        <MudElement HtmlTag="div" Class="d-flex align-center gap-3">
                            <MudAvatar Color="@Color.Secondary">A</MudAvatar>
                            <MudElement HtmlTag="div" Class="d-flex flex-column">
                                <MudText Typo="@Typo.subtitle2">MemberName</MudText>
                                <MudText Typo="@Typo.caption" Style="@colorGrey">Profession</MudText>
                            </MudElement>
                        </MudElement>
                    </MudListItem>
                }
            </MudList>
            <MudButton Class="@(ShowLess ? "d-none" : null)"
                       Variant="@Variant.Outlined"
                       Color="@Color.Tertiary"
                       FullWidth="@true">
                Show more
            </MudButton>
        </MudPaper>

    </MudItem>

    <MudItem xs="12" md="9">
        <MudText Typo="@Typo.h4" Align="@Align.Left" Class="mb-4">Projects</MudText>
        <MudTable T="@int" Items="@Enumerable.Range(0, 5)" Hover="@true" Elevation="4" OnRowClick="@OnRowClick">
            <ToolBarContent>
                <MudTextField T="@string"
                              Adornment="@Adornment.End"
                              AdornmentIcon="@Icons.Material.Filled.Search"
                              Variant="@Variant.Text"
                              Label="Search" />
            </ToolBarContent>
            <HeaderContent>
                <MudTh>Name</MudTh>
                <MudTh>Type</MudTh>
                <MudTh>Leader</MudTh>
            </HeaderContent>
            <RowTemplate>
                <MudTd DataLabel="Name">ProjectName</MudTd>
                <MudTd DataLabel="Type">Type</MudTd>
                <MudTd DataLabel="Leader">
                    <MudAvatar Class="ml-auto" Color="@Color.Secondary" Size="@Size.Small">A</MudAvatar>
                    <span class="ml-2">LeaderName</span>
                </MudTd>
            </RowTemplate>
        </MudTable>
    </MudItem>

</MudGrid>

@code {

    private int membersCount = 5;

    private bool ShowLess => membersCount < 10;

    private string colorGrey = $"color: {Colors.Grey.Default};";

    private void OnRowClick(TableRowClickEventArgs<int> args) =>
        NavigationManager.NavigateTo("/project/overview");

}
